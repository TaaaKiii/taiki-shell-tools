#!/usr/bin/env bash
# Copyright (c) 2025 Chiba University, Taiki Matsumura
set -euo pipefail

if [[ -z "${1-}" ]]; then
  echo "Usage: killport PORT" >&2
  exit 1
fi

PORT="$1"
PIDS=$(lsof -t -i :"$PORT" 2>/dev/null || true)

if [[ -z "$PIDS" ]]; then
  echo "No process using port $PORT"
  exit 0
fi

echo "Killing processes on port $PORT: $PIDS"
kill $PIDS

